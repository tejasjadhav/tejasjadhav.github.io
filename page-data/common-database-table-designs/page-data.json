{"componentChunkName":"component---src-templates-blog-post-js","path":"/common-database-table-designs/","result":{"data":{"site":{"siteMetadata":{"title":"Tejas Jadhav"}},"mdx":{"id":"9064c34b-3e8e-59cd-b78d-d9d93ef25dcb","excerpt":"This article is yet to be finished. Content These tables are for storing pure content. A really good example would be blog articles. This data is oftenâ€¦","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Common database table design patterns\",\n  \"slug\": \"/common-database-table-designs\",\n  \"date\": \"2019-01-05T05:24:42.000Z\",\n  \"featured\": false,\n  \"draft\": true,\n  \"tags\": [\"programming\", \"database\", \"table\", \"design\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"This article is yet to be finished.\")), mdx(\"h1\", null, \"Content\"), mdx(\"p\", null, \"These tables are for storing pure content. A really good example would be blog articles. This data is often formatted and showed to the end users over a read-only channel. There is usually a moderator or an editor who can change this data.\"), mdx(\"p\", null, \"It often has full CRUD (create-read-update-delete) access though certain actions are restricted to certain roles. For example, a blog editor can create, update or even delete an article but the end user can only read it.\"), mdx(\"p\", null, \"This data can be accessed and controlled with pure RESTful APIs and they usually have a 1:1 mapping with the database actions - POST for create, GET for read, PUT/PATCH for update and DELETE for deleting.\"), mdx(\"h1\", null, \"Transaction\"), mdx(\"p\", null, \"These are immutable datasets. Once added, no data can be changed or deleted. These are ideal for storing transactional activities like book keeping, virtual currencies, etc. They also feature a non-serial primary key or unique key (a random string or UUID or equivalent) so that the sequence cannot be predicted.\"), mdx(\"p\", null, \"It only has CR (create-read) access, though in certain cases, minor updates are allowed which do not drastically affect the transactional data.\"), mdx(\"p\", null, \"Access to the data is usually access controlled and isolated for users. Users cannot access each others\\u2019 data and can neither modify their own. Usually RESTful practices are limited because of limited data access.\"), mdx(\"h1\", null, \"Log\"), mdx(\"p\", null, \"These tables are used for recording change in data for a given table.  Similar to transaction tables, these are immutable. They denote the history of value a field at a given point in time. Common use cases are value transitions, changelog, etc.\"), mdx(\"p\", null, \"Like transaction tables, these are strictly CR (create-read). Occasionally, they also contain information about the user who made the change and reason for change.\"), mdx(\"figure\", null, mdx(\"table\", {\n    className: \"monospace\"\n  }, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"th\", null, \"_id\"), mdx(\"th\", null, \"profile_id\"), mdx(\"th\", null, \"field\"), mdx(\"th\", null, \"value\"), mdx(\"th\", null, \"user_id\"), mdx(\"th\", null, \"comment\"), mdx(\"th\", null, \"timestamp\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, \"12\"), mdx(\"td\", null, \"39\"), mdx(\"td\", null, \"status\"), mdx(\"td\", null, \"verified\"), mdx(\"td\", null, \"23\"), mdx(\"td\", null, \"User marked as verified after validating email.\"), mdx(\"td\", null, \"2019-01-02T15:32:12Z\")), mdx(\"tr\", null, mdx(\"td\", null, \"28\"), mdx(\"td\", null, \"39\"), mdx(\"td\", null, \"first_name\"), mdx(\"td\", null, \"Tejas\"), mdx(\"td\", null, \"23\"), mdx(\"td\", null, \"User changed profile information.\"), mdx(\"td\", null, \"2019-01-02T17:11:54Z\")), mdx(\"tr\", null, mdx(\"td\", null, \"31\"), mdx(\"td\", null, \"39\"), mdx(\"td\", null, \"status\"), mdx(\"td\", null, \"active\"), mdx(\"td\", null, \"23\"), mdx(\"td\", null, \"User activated after completing profile.\"), mdx(\"td\", null, \"2019-01-02T17:13:01Z\")))), mdx(\"figcaption\", null, \"Example: Log table for tracking user profile changes\")), mdx(\"p\", null, \"Unlike previous tables, data from table is never directly exposed to the user. Thus there are no RESTful endpoints. Though they are seldom used for administrative purposes to track user activity and troubleshoot issues. Access for such purposes is usually done using a server-side rendered page or using custom internal APIs which are very specific to the use case.\"), mdx(\"h1\", null, \"Mapping\"), mdx(\"p\", null, \"These are only used for creating a relations between two or more tables. Such tables are often called many-to-many mapping tables, though, using appropriate UNIQUE keys, they can be restricted to many-to-one or even one-to-one mapping. They only store foreign keys to related tables. A good example would be assigning multiple tags to multiple articles.\"), mdx(\"p\", null, \"Based on the behavior of the related tables, mapping tables can be CRUD (create-read-update-delete) or CR (create-read) only. Like log tables, they can also contain additional data for each mapping.\"), mdx(\"table\", {\n    className: \"monospace\"\n  }, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"th\", null, \"_id\"), mdx(\"th\", null, \"order_id\"), mdx(\"th\", null, \"sku_id\"), mdx(\"th\", null, \"quantity\"), mdx(\"th\", null, \"timestamp\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, \"9\"), mdx(\"td\", null, \"87\"), mdx(\"td\", null, \"12\"), mdx(\"td\", null, \"1\"), mdx(\"td\", null, \"2019-01-02T12:09:35Z\")), mdx(\"tr\", null, mdx(\"td\", null, \"10\"), mdx(\"td\", null, \"87\"), mdx(\"td\", null, \"5\"), mdx(\"td\", null, \"5\"), mdx(\"td\", null, \"2019-01-02T12:09:58Z\")), mdx(\"tr\", null, mdx(\"td\", null, \"15\"), mdx(\"td\", null, \"91\"), mdx(\"td\", null, \"12\"), mdx(\"td\", null, \"2\"), mdx(\"td\", null, \"2019-01-02T13:01:19Z\")))), mdx(\"p\", null, \"Data from mapping tables is never exposed directly to the end user. It\\u2019s always indirectly used along with data from content tables and related data is shown in nested fashion. Pure RESTful APIs will usually nest the related data.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Common database table design patterns","date":"January 05, 2019"}}},"pageContext":{"slug":"/common-database-table-designs/","previous":{"fields":{"slug":"/squashing-bugs-when-datetime-comparisons-go-wrong/"},"frontmatter":{"title":"Squashing bugs: When datetime comparisons go wrong"}},"next":{"fields":{"slug":"/simple-chat-server-in-nim-using-sockets/"},"frontmatter":{"title":"Simple chat server in Nim: Basics"}}}}}